<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h2>Promises</h2>

    <script>
        const count = true;
        let countValue = new Promise(function (resolve, reject) {
            if (count) {
                resolve("there is count value");
            }
            else {
                reject("there is no count value");
            }
        });
        console.log(countValue);

        //resolve 
        var promise = new Promise(function (resolve, reject) {
            resolve("this is resolve");
        })
        promise.then(function (successMsg) {
            console.log(successMsg);
        }, function (errosMsg) {
            console.log(errosMsg);
        })

        //reject
        var promise = new Promise(function (resolve, reject) {
            reject("this is rejected");
        })
        promise.then(function (successMsg) {
            console.log(successMsg);
        }, function (errosMsg) {
            console.log(errosMsg);
        })

        var myPromise = new Promise(function (resolve, reject) {
            resolve("Function is Resolved");
        })
        myPromise.then(function (successMsg) {
            console.log(successMsg);
        }).catch(function (errorMsg) {
            console.log(errorMsg);
        });

        //calling multiple functions with .then()
        let countValue1 = new Promise(function (resolve, reject) {
            resolve("Promise is resolved");
        })
        countValue1
            .then(function successValue(result) {
                console.log(result);
            })
            .then(function successValue1() {
                console.log("another function");
            });

        //return promise
        let promiseIs = new Promise(function (resolve, reject) {
            reject("Promise Rejected");
        })
        promiseIs.then(
            function successValue(result) {
                console.log(result);
            }
        )
            .catch(
                function errorValue(result) {
                    console.log(result);
                }
            );

        //setTimeout()
        let myPromisee = new Promise(function (resolve, reject) {
            setTimeout(function resolve() {
                alert("this is resolve function");
            }, 3000);
        })
        myPromisee.then(function (value) {
            console.log(value);
        });

        var p = new Promise(function (resolve, reject) {
            var x = 2 + 3;
            if (x == 5)
                resolve(" executed and resolved successfully");
            else
                reject("rejected");
        });
        p.then(function (fromResolve) {
            document.write("Promise is" + fromResolve);
        }).catch(function (fromReject) {
            document.write("Promise is " + fromReject);
        });

        const promis = new Promise((resolve, reject) => {
            setTimeout(() => { resolve() }, 1000)
        });

        promis.then(() => {
            console.log(1);
            return new Promise((resolve, reject) => {
                setTimeout(() => { resolve() }, 1000)
            });
        }).then(() => {
            console.log(2);
        });


    </script>
</body>

</html>